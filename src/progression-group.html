<div class="activity-grouping">
  "## if let Some(ref activity) = self.0.activity.iter().map(|a| a.borrow()).next() { r##"
  <a href=""## activity as URL r##"" class="activity"##
     for c in activity.prereq_concepts.iter().map(|c| c.borrow()) {
     r##" from-"## c.id } r##"" id=""## activity.id r##"">
    <div class="activity">"## activity.name r##"</div>
    <div class="description hint">
      <br/>
      "## activity.long_description r##"
    </div>"##
    for r in activity.representations.iter() { r##"
    <div onclick="document.location.href ='"## r.0 as URL r##"'; return false"
         style="cursor: pointer;"
         class="representation">
      representation.icon
    </div>
    "## } r##"
  </a>"##
  } else { r##"
  <a href="/activity/orphans" class="activity orphans" id="orphans">
    <div class="activity orphans">ORPHANS!</div>
  </a> "##
  } r##"
  <div class="concepts">
    "## for concept in self.0.concepts.iter().map(|c| c.borrow()) { r##"
    <a href=""## concept as URL r##"" class="concept"##
       for a in concept.activities.iter().map(|a| a.borrow()) {
       r##" from-"## a.id } r##"" id=""## concept.id r##"">
      "## for r in concept.representations.iter() { r##"
      <div onclick="document.location.href ='"## r.0 as URL r##"'; return false"
           style="cursor: pointer;"
           class="representation">
        r.icon
      </div>
      "## }
      concept.name r##"
      <div class="description hint">
        <br/>
        "## concept.long_description r##"
      </div>
    </a>
    "## } r##"
  </div>
</div>
