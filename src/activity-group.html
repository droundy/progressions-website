<div class="activity-grouping has[% self.concepts.len() %]">
  <div class="taughtby">
    <div class="taughtby">
      [% if let Some(ref activity) = self.activity.iter().map(|a| a.borrow()).next() { %]
      <a href="[% activity as URL %]" class="activity" thisid="[% activity.id %]" name="name">
        [% activity.name %]
      </a>
      [%
      } else { %]
      <a href="activity/orphans" class="activity orphans">
        ORPHANS!
      </a>
      [%
      }
      %]
    </div>
  </div> [%
  for c in self.concepts.iter().map(|c| c.borrow()) {
    %]
  <a href="[% c as URL %]" class="concept">
    <span kind="concept" thisid="[% c.id %]" name="name">[% c.name %]</span>
    <div class="hint"><br/></div>
    <div class="description hint" thisid="[% c.id %]" name="long_description">
      [% c.long_description %]
    </div>
  </a>
  [% } %]
</div>
