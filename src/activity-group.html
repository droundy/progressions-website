<div class="activity-grouping has[% self.concepts.len() %]">
  <div class="taughtby">
    <div class="taughtby">
      [% if let Some(ref activity) = self.activity.iter().next() { %]
      <a href=[% absolute_url(activity.id) %] class="activity" thisid="[% activity.id %]" name="name">
        [% activity.addremove() %][% activity.name %]
      </a>
      [%
      } else { %]
      <a href=[% absolute_url("activity/orphans") %] class="activity orphans">
        No activity!
      </a>
      [%
      }
      %]
    </div>
  </div> [%
  for c in self.concepts.iter() {
    c
  } %] [%
  for c in self.hint_concepts.iter() {
     %]<a href=[% absolute_url(c.id) %] class="concept hint">[% c.addremove() %]
       <span thisid="[% c.id %]" name="name">[% c.name %]</span></a> [%
  } %]
</div>
