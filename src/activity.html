[%
let extrajs = {};
let readyjs = {};
let title = { %] Activity: [% self.name };
let nav = {
  %]<li>[% self.courses[0] %]</li>[%
};
let content = {
  %]<article>
      <details class="allprereqs">
        <summary>Prerequisite concepts</summary>
        <div class="allprereqs">
          [%
          for prereq in self.prereq_courses.iter() {
            prereq
          }
          %]
          <div class="prereq">
            [%
            for group in self.prereq_groups.iter() {
              group
            }
            self.possibly_prereq_concepts()
            %]
          </div>
        </div>
      </details>

      <div
         [% if let Some(ref url) = self.external_url {
            %]thisid="[% self.id %]" name="none" onclick="location.href='http://physics.oregonstate.edu/portfolioswiki/acts:[% url as URL %]';" style="cursor: pointer;" [%
         } %]
         class="activity">
        <h1>[% self.name %]</h1>[%
        if let Some(ref fig) = self.figure {
          %]<img src="/figs/[% fig %]" class="figure"/>[%
        }
        %]
        <div class="description">
          [% self.long_description %]
        </div>[%
        if self.representations.len() > 0 {
        %]<h3>Representations used</h3>
        <div class="row">[%
          for r in self.representations.iter() {
            r
          } %]
        </div>[%
        } %]
        <h3>Concepts taught</h3>
        <div class="row">[%
          let myremove = ChangeRelationship::parent(self.id, "Remove",
                                                    "new_concept");
          for c in self.new_concepts.iter() { %]
          <a href="[% c as URL %]" class="concept">
            [% myremove.child(c.id) %][% c.name %]
            <div class="description hint">
              <br/>
              [% c.long_description %]
            </div>
          </a>[%
          } %]
          [% self.possibly_taught_concepts() %]
        </div>
      </div>
    </article>[%
};
include!("base.html");
%]
