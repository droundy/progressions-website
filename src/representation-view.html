[%
let extrajs = {
%]
 function handleFiles(files) {
     for (let i = 0; i < files.length; i++) {
         const file = files[i];

         const reader = new FileReader();
         const xhr = new XMLHttpRequest();
         this.xhr = xhr;

         const self = this;

         xhr.open("POST", "/icon/XXX");
         xhr.overrideMimeType('text/plain; charset=x-user-defined-binary');
         reader.onload = function(evt) {
             xhr.send(evt.target.result);
         };
         reader.readAsBinaryString(file);

         const reader = new FileReader();
         reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);
         reader.readAsDataURL(file);
     }
 }
[% };
let readyjs = {};
let title = { %] Representation: [% self.name };
let nav = {};
let content = {
  %]<article>
      <div class="representation">
        <h1>[% self.icon as UTF8 %]</h1>
        <form class="hint">
          <label for="icon">Image file for icon</label>
          <input type="file" name="icon" accept="image/*"
                 onchange="handleIcon(this.files)">
        </form>


        <br/>
        <div class="description" thisid="[% self.id %]" name="description">
          [% if self.description.len() == 0 {
            %] NEED DESCRIPTION HERE [%
          } else {
            self.description
          } %]
        </div>
        <div class="row">
          [% for c in self.other_concepts.iter() { c } %]
        </div>
        <div class="row">
          [% for g in self.groups.iter() { g } %]
        </div>
      </div>
    </article>
    [%
    };
    include!("base.html");
%]
